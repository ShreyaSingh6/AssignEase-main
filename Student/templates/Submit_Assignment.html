<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Submit Assignment</title>
    {% load static %}

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
            integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
            crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.min.js"
            integrity="sha384-lpyLfhYuitXl2zRZ5Bn2fqnhNAKOAaM/0Kr9laMspuaMiZfGmfwRNFh8HlMy49eQ"
            crossorigin="anonymous"></script>
    <!--    offcanvas-->
    <link rel="canonical" href="https://getbootstrap.com/docs/5.0/examples/offcanvas-navbar/">
    <!-- Bootstrap core CSS -->
    <link href="/docs/5.0/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous">

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW"
            crossorigin="anonymous"></script>

    <script src="/docs/5.0/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-p34f1UUtsS3wqzfto5wAAmdvj+osOnFyQFpp4Ua3gs/ZVWx6oOypYoCJhGGScy+8"
            crossorigin="anonymous"></script>

    <style>
    .button1 {
  position: relative;
  border: none;
  font-size: 28px;
  color: #FFFFFF;
  padding: 20px;
  width: 200px;
  text-align: center;
  transition-duration: 0.4s;
  text-decoration: none;
  overflow: hidden;
  cursor: pointer;
}

.button1:after {
  content: "";
  background: #f1f1f1;
  display: block;
  position: absolute;
  padding-top: 300%;
  padding-left: 350%;
  margin-left: -20px !important;
  margin-top: -120%;
  opacity: 0;
  transition: all 0.8s
}

.button1:active:after {
  padding: 0;
  margin: 0;
  opacity: 1;
  transition: 0s
}

        .button1:hover {
  box-shadow: 0 20px 26px 0 rgba(0,0,0,0.24), 0 20px 50px 0 rgba(0,0,0,0.19);
}



    </style>

    <!-- Custom styles for this template -->
    <link href="{% static 'CSS/offcanvas.css' %}" rel="stylesheet">
</head>
<body>

<!--canvas navbar-->
<nav class="navbar navbar-expand-lg fixed-top navbar-dark " aria-label="Main navigation" style="background-color: #051622;">
    <div class="container-fluid">
        <a class="navbar-brand" href="#" style="color: white;">AssignEase</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
            data-bs-target="#navbarNavDarkDropdown" aria-controls="navbarNavDarkDropdown" aria-expanded="false"
            aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>


        <div class="navbar-collapse offcanvas-collapse" id="navbarsExampleDefault">
            <ul class="navbar-nav me-auto mb-2 mx-auto mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'Student_' %}">Dashboard</a>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle active" aria-current="page"  href="#" id="dropdown01" data-bs-toggle="dropdown"
                       aria-expanded="false">My Administration</a>
                    <ul class="dropdown-menu" aria-labelledby="dropdown01">
                        <li><a class="dropdown-item" href="Subject_List">Subject Lists</a></li>
                        <li><a class="dropdown-item" href="Submit_Assignment_P">Submit Assignment</a></li>
                        <li><a class="dropdown-item" href="#">My Marks</a></li>

                    </ul>
                </li>
                <li class="nav-item dropdown">
                    <a class="nav-link dropdown-toggle" href="#" id="dropdown03" data-bs-toggle="dropdown"
                       aria-expanded="false">My Account</a>
                    <ul class="dropdown-menu" aria-labelledby="dropdown03">
                        <li><a class="dropdown-item" href="My_account">My Profile</a></li>
                        <li><a class="dropdown-item" href="StudentUpdate_Password">Change Password</a></li>
                        <li><a class="dropdown-item" href="data_save">Change Profile Picture</a></li>
                    </ul>
                </li>
            </ul>


            <!--     button    -->
            <div class="d-flex">
                    <div class="btn-group me-2">
                        <button type="button" class="btn"
                            style="background-color: #051622; color: white;" data-bs-toggle=" modal"
                            data-bs-target="#staticBackdrop">
                            <a class="text-decoration-none" style="background-color: #051622; color: white;" href="{% url 'Student_Logout' %}">Logout</a>
                        </button>
                    </div>
                </div>
        </div>
    </div>
</nav>
<!-- 
{% if data %}
<div class="container mt-5">
    <form action="{% url 'Submit_Assignment' %}" method="post" enctype="multipart/form-data">
        {% csrf_token %}
        <table class="table">
    <thead>
        <tr>
            <th>Sr.No.</th>
            <th>Assignment Title</th>
            <th>Subject</th>
            <th>Due Date</th>
            <th>Action</th>
            <th>Submit</th>
        </tr>
    </thead>
    <tbody>
        {% for j in data %}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{ j.Assignment_Title }}</td>
            <td>{{ j.Subject_Name }}</td>
            <td>{{ j.Submission_Date }}</td>
            <td>
                <a class="btn" 
                   style="background-color: #2ebdb4; color: #04406b;" 
                   href="{% url 'download_Assignment_T' %}?id={{ j.id }}" 
                   target="_blank">
                   View Assignment
                </a>
            </td>
            <td>
                <form action="{% url 'Submit_Assignment' %}" method="post" enctype="multipart/form-data">
                    {% csrf_token %}
                    <input type="hidden" name="assignment_id" value="{{ j.id }}">
                    <input type="file" name="submitted_file" required class="form-control mb-2">
                    <button type="submit" class="btn btn-success btn-sm">Submit</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>

        {% else %}
    <h1>No Assignment</h1>
    {% endif %}
      <div class="text-center mt-3">
            <button type="submit" class="btn btn-primary">Submit</button>
        </div> -->
    <!-- </form>
</div>



</body>  -->
<div class="bg-light;" style="color:#003366; text-align:center; margin-top:20px; margin-bottom:20px;">
    <h1>Submit Assignment</h1>
</div>
{% if submitted %}
    <script>alert('Assignment submitted successfully!');</script>
{% endif %}
{% if data %}
<div class="container">
    <form action="{% url 'Submit_Assignment' %}" method="post" enctype="multipart/form-data">
    
    <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
        <thead>
        <tr class="bg-light" style="color:#003366; text-align:center;">
            <th>Sr.No.</th>
            <th>Subject Name</th>
            <th>Assignment Title</th>
            <th>Assignment Description</th>
            <th>Assignment File</th>
            <th>Due Date</th>
            <th>Select File</th>
        </tr>
        </thead>
        {% for j in data %}
        <tr>
            <td>{{ forloop.counter }}</td>
            <td>{{j.Subject_Name}}</td>
            <td>{{j.Assignment_Title}}</td>
            <td>{{j.Assignment_Description}}</td>
            <td><a class="btn "style="background-color: #2ebdb4; color: 04406b; text-align:center;" href="download_Assignment_T?ids={{j.id}}">View Assignment</a></td>
            <td>{{j.Due_Date}}</td>
            <td colspan="2">
                <form action="{% url 'Submit_Assignment' %}" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <input type="hidden" name="SN" value="{{ j.Subject_Name }}">
            <input type="hidden" name="AT" value="{{ j.Assignment_Title }}">
            <input type="hidden" name="AD" value="{{ j.Assignment_Description }}">
            <input type="hidden" name="SD" value="{% now 'Y-m-d\\TH:i' %}">
            <input type="file" name="ass_stu" required class="form-control mb-2">
            <button type="submit" class="btn text-dark" style="background-color: #2ebdb4;">SUBMIT</button>
                </form>
            </td>
        </tr>
        {% endfor %}
    </table>
    {% else %}
<!-- âœ… No assignments left to submit -->
<div class="container text-center">
    <h1>No Assignment Pending</h1>
</div>
{% endif %}
</div>
</body>
<script>
    $(document).ready(function() {
          $('#dataTable').DataTable();
    });
</script>
<script src="{% static 'JavaScript/offcanvas.js' %}"></script>
</html>
